(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,a){e.exports=a(389)},162:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},193:function(e,t){},195:function(e,t){},227:function(e,t){},228:function(e,t){},297:function(e,t){},389:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),o=a(151),i=a.n(o),l=(a(162),a(152)),r=a(153),s=a(155),u=a(154),d=a(156);var p=function(e){return c.a.createElement("div",{className:"exportCsv"},c.a.createElement("h1",null,"Export NLC Data"),c.a.createElement("button",{type:"button",onClick:e.exportCsv},"Export as CSV"))};var m=function(e){return c.a.createElement("div",{className:"formContainer"},c.a.createElement("div",{className:"searchField"},c.a.createElement("h1",null,"Input your NLC code to retrieve data..."),c.a.createElement("input",{type:"text",className:"search",onChange:e.updateNlcValue,placeholder:"e.g 0375"}),c.a.createElement("button",{className:"get-weather",onClick:e.getNLC},"Submit")),c.a.createElement("div",{className:"dataField"},c.a.createElement("h1",null,"NLC Code: ",e.nlcValue),c.a.createElement("h2",null,"Location Code: ",e.locationCode),c.a.createElement("h2",null,"Location Name: ",e.locationName),c.a.createElement("h2",null,"Location Type: ",e.locationType),c.a.createElement("h2",null,"CRS Type: ",e.crsType)),c.a.createElement("div",{className:"ticket"},c.a.createElement("input",{type:"text",className:"search",onChange:e.updateTicketValue,placeholder:"Input ticket ID..."}),c.a.createElement("button",{onClick:e.updateTicket},"Add to Zendesk")),c.a.createElement(p,{exportCsv:e.exportCsv}))},N=(a(164),a(166),function(e){function t(){var e,n;Object(l.a)(this,t);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={nlcValue:"",ticketValue:"",locationCode:"",locationName:"",locationType:"",crsType:"",csvData:""},n.updateNlcValue=function(e){n.setState({nlcValue:e.target.value})},n.updateTicketValue=function(e){n.setState({ticketValue:e.target.value})},n.getNLC=function(){if(""==n.state.nlcValue)alert("Please insert your NLC code to continue.");else{var e="https://platform.appamondo.com/api/findNLCCode?nlc_code=".concat(n.state.nlcValue);fetch(e,{headers:{authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjlhYjc3YzBiMGYwYjE4Zjc1MTAxMTJmZWNhMTcxNDYwODkxYjE5MTY5YzBlNGI4ZTcxODRjZDgzOTExNDgzYjMyYTRkNWRkOTYwOWMyNzgyIn0.eyJhdWQiOiIxMyIsImp0aSI6IjlhYjc3YzBiMGYwYjE4Zjc1MTAxMTJmZWNhMTcxNDYwODkxYjE5MTY5YzBlNGI4ZTcxODRjZDgzOTExNDgzYjMyYTRkNWRkOTYwOWMyNzgyIiwiaWF0IjoxNTQ5NTU2ODE1LCJuYmYiOjE1NDk1NTY4MTUsImV4cCI6MTU4MTA5MjgxNSwic3ViIjoiMSIsInNjb3BlcyI6W119.vRdaiBvJmGXnPRtZ4MovIrogHbfJVj-SoGpWt6kGeKFEFXzcq4Oy9mcX1y_DM227dmTBWx_MS8iJ_uDJsxS6XC-NyAawOByAKLfcwRW1pz-_5cgzis7YL6TJ8WYjo3oRsegeeX3cIdAC6p2gpfalMYOFWGE8_uyHb3wpQD65vhUyEDPGphl53bfZmeIF3fRkv6O3r0A_jYX81TqMDNxY1ZbH9SjFpUp1YUWPaWgXX81yLWmDNrDbcnx-S7j6KBX69f7vghOsHssN5MYSgt7Jd5utk5aseOisv3zNXXvqZ6QIlzFelWpQO8-u6T5gEUzfdmXrAYGGWBe02MuzGetKmA1qbCULQVexZj0z7O6iNzqgjsMoVKvC-El9vev76P29if67bSDgbV0eSZVk9bWHnYd3y2cIP1NhuuoIilnNrx1119s5xcPoFRwwDyiNIqkLgAihb0J-GyT3GC70g2DluP_8LKcpItwTKWE4Em7q0ZBrKAC46zMJoh_tohEzI4dq_bbQliYMEPon_WuSizrJJmumyrgIjlL-ey_Cxd7odbpZxgcvqLuUwGGbnX_Jwb-O19wk80oBga3lqqmtBCAXopI212xzKKyUWlNljhr7tPYVn48wj7_TBh4pfX9NbolJloHc_jbA1NWwXrHBZVHm_ZXkSnUkBnImHeyCyIPJU6Y"}}).then(function(e){if(400!=e.status)return e.json();alert("Invalid NLC code, please retry")}).then(function(e){return n.setState({locationCode:e.location_code,locationName:e.location_name,locationType:e.location_type,crsType:e.crs_code})})}},n.updateTicket=function(){new(a(168))({url:"https://testamondo.zendesk.com",token:"198efcf4886945d72b17d6bdeb594eb2c1f9fb8ade46e6acc476b66c6cdcb046",oauth:!0}).tickets.update("".concat(n.state.ticketValue),{custom_fields:[{id:360000001406,value:"".concat(n.state.locationName)}]}).then(function(e){"Not found"==e.description?alert("Ticket ID not recognised, please try again"):(console.log(e),alert("Thanks! Your ticket has been submitted."))})},n.exportCsv=function(){for(var e=[],t=1;t<=10;t++){var a="https://platform.appamondo.com/api/getNLCCodes?page=".concat(t);fetch(a,{headers:{authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjlhYjc3YzBiMGYwYjE4Zjc1MTAxMTJmZWNhMTcxNDYwODkxYjE5MTY5YzBlNGI4ZTcxODRjZDgzOTExNDgzYjMyYTRkNWRkOTYwOWMyNzgyIn0.eyJhdWQiOiIxMyIsImp0aSI6IjlhYjc3YzBiMGYwYjE4Zjc1MTAxMTJmZWNhMTcxNDYwODkxYjE5MTY5YzBlNGI4ZTcxODRjZDgzOTExNDgzYjMyYTRkNWRkOTYwOWMyNzgyIiwiaWF0IjoxNTQ5NTU2ODE1LCJuYmYiOjE1NDk1NTY4MTUsImV4cCI6MTU4MTA5MjgxNSwic3ViIjoiMSIsInNjb3BlcyI6W119.vRdaiBvJmGXnPRtZ4MovIrogHbfJVj-SoGpWt6kGeKFEFXzcq4Oy9mcX1y_DM227dmTBWx_MS8iJ_uDJsxS6XC-NyAawOByAKLfcwRW1pz-_5cgzis7YL6TJ8WYjo3oRsegeeX3cIdAC6p2gpfalMYOFWGE8_uyHb3wpQD65vhUyEDPGphl53bfZmeIF3fRkv6O3r0A_jYX81TqMDNxY1ZbH9SjFpUp1YUWPaWgXX81yLWmDNrDbcnx-S7j6KBX69f7vghOsHssN5MYSgt7Jd5utk5aseOisv3zNXXvqZ6QIlzFelWpQO8-u6T5gEUzfdmXrAYGGWBe02MuzGetKmA1qbCULQVexZj0z7O6iNzqgjsMoVKvC-El9vev76P29if67bSDgbV0eSZVk9bWHnYd3y2cIP1NhuuoIilnNrx1119s5xcPoFRwwDyiNIqkLgAihb0J-GyT3GC70g2DluP_8LKcpItwTKWE4Em7q0ZBrKAC46zMJoh_tohEzI4dq_bbQliYMEPon_WuSizrJJmumyrgIjlL-ey_Cxd7odbpZxgcvqLuUwGGbnX_Jwb-O19wk80oBga3lqqmtBCAXopI212xzKKyUWlNljhr7tPYVn48wj7_TBh4pfX9NbolJloHc_jbA1NWwXrHBZVHm_ZXkSnUkBnImHeyCyIPJU6Y"}}).then(function(e){return e.json()}).then(function(e){return e.data}).then(function(t){return t.forEach(function(t){e.push([t.id,t.nlc_code,t.location_code,t.location_name,t.location_type,t.crs_code])})})}setTimeout(function(){n.setState({csvData:e});for(var t=[],a=[["id","nlc code","location code","location name","location type","crs code"]],c=n.state.csvData,o=0;o<c.length;o++)a.push([c[o]]);for(var i=0;i<a.length;i++)t.push(a[i].join(","));var l=t.join("%0A"),r=document.createElement("a");r.href="data:attachment/csv,"+l,r.target="_Blank",r.download="nlccodes.csv",document.body.appendChild(r),r.click()},1e3)},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(m,{getNLC:this.getNLC,updateNlcValue:this.updateNlcValue,nlcValue:this.state.nlcValue,locationCode:this.state.locationCode,locationName:this.state.locationName,locationType:this.state.locationType,crsType:this.state.crsType,updateTicketValue:this.updateTicketValue,updateTicket:this.updateTicket,exportCsv:this.exportCsv}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[157,2,1]]]);
//# sourceMappingURL=main.3fb1a073.chunk.js.map